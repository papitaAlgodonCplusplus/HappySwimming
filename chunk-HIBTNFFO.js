import{E as a,F as S,I as R,J as l,K as _,L as r,M as o,N as m,O as j,P as F,Q as D,R as f,S as H,T as c,U as g,aa as A,ba as p,c as C,ca as d,da as h,e as x,h as P,ha as v,i as k,j as O,l as w,ma as B,o as M,oa as z,p as u,qa as K,r as y,u as T,va as N,w as I,wa as U,x as E,ya as V,za as $}from"./chunk-WBSHMA7A.js";var b=(()=>{class n{http;translations={};currentLang=new C("es");translationsLoaded=new C(!1);constructor(t){this.http=t;let e=localStorage.getItem("preferredLanguage");e?this.loadTranslations(e,!0):this.loadTranslations("es",!0)}getCurrentLang(){return this.currentLang.asObservable()}isTranslationsLoaded(){return this.translationsLoaded.asObservable()}setLanguage(t){t!==this.currentLang.value&&this.loadTranslations(t)}loadTranslations(t,e=!1){this.translationsLoaded.next(!1),this.http.get(`assets/i18n/${t}.json`).pipe(O(i=>{this.translations[t]=i,this.currentLang.next(t),localStorage.setItem("preferredLanguage",t)}),P(i=>(console.error(`Could not load translations for ${t}`,i),x(null))),k(()=>{this.translationsLoaded.next(!0)})).subscribe()}translate(t){let e=this.currentLang.value;if(!this.translations[e])return t;let i=t.split(".");if(i.length===1&&this.translations[e][t]!==void 0)return this.translations[e][t];let s=this.translations[e];for(let L of i){if(s[L]===void 0)return t;s=s[L]}return s}static \u0275fac=function(e){return new(e||n)(M(K))};static \u0275prov=w({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var G=(()=>{class n{translationService;cdr;langChangeSubscription;lastKey="";lastResult="";constructor(t,e){this.translationService=t,this.cdr=e,this.langChangeSubscription=this.translationService.getCurrentLang().subscribe(()=>{this.lastKey="",this.lastResult="",this.cdr.markForCheck()})}transform(t){return this.lastResult=this.translationService.translate(t),this.lastKey=t,this.lastResult}ngOnDestroy(){this.langChangeSubscription&&this.langChangeSubscription.unsubscribe()}static \u0275fac=function(e){return new(e||n)(S(b,16),S(v,16))};static \u0275pipe=T({name:"translate",type:n,pure:!1,standalone:!0})}return n})();var Q=()=>["/"],W=()=>["/about"],X=()=>["/services"],Y=()=>["/homepage"];function Z(n,tt){if(n&1){let t=D();j(0),r(1,"a",11),c(2),d(3,"translate"),o(),r(4,"a",12),f("click",function(){I(t);let i=H();return E(i.logout())}),c(5,"Logout"),o(),F()}n&2&&(a(),l("routerLink",p(4,Y)),a(),g(h(3,2,"home")))}var mt=(()=>{class n{currentLang="es";isAuthenticated=!1;userRole=null;userName="";langSubscription=null;loadedSubscription=null;authSubscription=null;translationService=u(b);authService=u($);cdr=u(v);router=u(N);ngOnInit(){this.langSubscription=this.translationService.getCurrentLang().subscribe(t=>{console.log("Language changed to:",t),this.currentLang=t,this.cdr.detectChanges()}),this.loadedSubscription=this.translationService.isTranslationsLoaded().subscribe(t=>{t&&(console.log("Translations loaded"),this.cdr.detectChanges())}),this.authSubscription=this.authService.getCurrentUser().subscribe(t=>{this.isAuthenticated=!!t,this.userRole=t?t.role:null,this.userName=t?t.name:"",this.cdr.detectChanges()})}switchLanguage(t){console.log("Switching language to:",t),this.translationService.setLanguage(t)}navigateToAuth(){this.router.navigate(["/auth"])}logout(){this.authService.logout(),this.router.navigate(["/auth"])}ngOnDestroy(){this.langSubscription&&this.langSubscription.unsubscribe(),this.loadedSubscription&&this.loadedSubscription.unsubscribe(),this.authSubscription&&this.authSubscription.unsubscribe()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=y({type:n,selectors:[["app-header"]],standalone:!0,features:[A],decls:19,vars:20,consts:[[1,"header"],[3,"routerLink"],["src","assets/happy-swimming-logo.png","alt","Happy Swimming Logo",1,"logo"],[1,"navigation"],[1,"nav-item",3,"routerLink"],["href","#",1,"nav-item"],[4,"ngIf"],[1,"language-selector"],["href","javascript:void(0)",1,"lang-flag",3,"click"],["src","assets/es-flag.png","alt","Spanish"],["src","assets/en-flag.png","alt","English"],[1,"nav-item","auth-link",3,"routerLink"],[1,"nav-item","auth-link","logout-link",3,"click"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"a",1),m(2,"img",2),o(),r(3,"div",3)(4,"a",4),c(5),d(6,"translate"),o(),r(7,"a",4),c(8),d(9,"translate"),o(),r(10,"a",5),c(11),d(12,"translate"),o(),R(13,Z,6,5,"ng-container",6),r(14,"div",7)(15,"a",8),f("click",function(){return i.switchLanguage("es")}),m(16,"img",9),o(),r(17,"a",8),f("click",function(){return i.switchLanguage("en")}),m(18,"img",10),o()()()()),e&2&&(a(),l("routerLink",p(17,Q)),a(3),l("routerLink",p(18,W)),a(),g(h(6,11,"aboutUs")),a(2),l("routerLink",p(19,X)),a(),g(h(9,13,"services")),a(3),g(h(12,15,"contactUs")),a(2),l("ngIf",i.isAuthenticated),a(3),_("active",i.currentLang==="es"),a(2),_("active",i.currentLang==="en"))},dependencies:[z,B,V,U,G],styles:[".header[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:space-between;align-items:center;padding:1rem 2rem;background-color:#004aad;width:100%;z-index:1000;box-sizing:border-box}*[_ngcontent-%COMP%]{overflow:hidden;overflow-x:hidden;overflow-y:hidden}.logo[_ngcontent-%COMP%]{height:80px}.navigation[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem}.nav-item[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:700;font-family:Lexend Peta,sans-serif}.language-selector[_ngcontent-%COMP%]{display:flex;gap:.5rem}.lang-flag[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:auto;border-radius:3px;transition:all .3s ease}.lang-flag[_ngcontent-%COMP%]   img.active[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #fff;transform:scale(1.1)}.lang-flag[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}@media (max-width: 768px){.navigation[_ngcontent-%COMP%]{gap:1rem}.nav-item[_ngcontent-%COMP%]{font-size:.9rem}.logo[_ngcontent-%COMP%]{height:60px}.auth-link[_ngcontent-%COMP%]{background-color:#fff3;padding:.5rem 1rem;border-radius:20px;transition:all .3s ease}.auth-link[_ngcontent-%COMP%]:hover{background-color:#fff6}.logout-link[_ngcontent-%COMP%]{cursor:pointer;color:#fdd}.logout-link[_ngcontent-%COMP%]:hover{color:#fff;background-color:#c003}}"],changeDetection:0})}return n})();export{b as a,G as b,mt as c};
